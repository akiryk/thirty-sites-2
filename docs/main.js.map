{"version":3,"sources":["main.js"],"names":["BlotterAnimations","this","message","Transitions","blotter","morph1","start","middle","end","morph2","prototype","init","Blotter","family","size","fill","paddingLeft","initMaterials","material","uniforms","uOffset","value","uRotation","text","texts","elem","document","getElementById","scope","innerHTML","center","window","innerHeight","e","addEventListener","innerWidth","x","clientX","Math","clientY","y","animate","part2","querySelector","dur","easeFunc","btn","displayMenu","i","random","bgColors","part1","setAttribute","bgColor","length","targets","d","loop","duration","complete","anime","easing","opacity","style","display","t","bind"],"mappings":"AAAA,aACA,SAASA,oBAATC,KAAAC,QAASF,cACPC,KAAKC,OA2CP,SAASC,YAAYC,GAArBH,KAAAG,QAASD,KAGHC,IAAJH,KAAIG,QAASA,GAKbH,KAAKI,QACHC,MAAO,sJACPC,OAAQ,sLACRC,IAAK,0LAGPP,KAAKQ,QACHH,MAAO,mJACPC,OAAQ,2LACRC,IAAK,4LAxDTR,kBAAkBU,UAAUC,KAAO,WAAnCX,KAAAA,QAAA,gBAAAA,KAAkBU,QAA4B,gBAAA,cAC5CT,KAAKC,KAAL,IAAeU,QAAKV,KAALD,KAAiBC,SAChCW,OAAA,0BACEA,KAAAA,IACAC,KAAO,UACPC,YAAO,GACPC,aAJyC,KAAAf,KAA3CgB,iBAUFjB,kBAAkBU,UAAUO,cAAgB,WAA5CjB,IAAAA,EAAAA,IAAkBU,QAAUO,qBAG1BC,EAASC,SAASC,QAAQC,MAAQ,IAAlCH,EAASC,SAASC,UAAQC,MAAQ,GAClCH,EAASC,SAASG,cAAUD,MAA5B,IAGA,IAAIE,EAAOtB,KAAKsB,KAEZnB,EAAU,IAAIQ,QAAQM,GAA1BM,MAAIpB,IAIAqB,EAAOC,SAASC,eAAe,QAA/BF,EAAOC,EAASC,QAAAA,GACpBF,EAAIG,UAAQxB,GACZqB,EAAKI,SAALJ,GAGA,IAAMK,EAASC,OAAOC,YAAY,EAAlCN,SAAMI,iBAAgBE,YAAtB,SAAAC,GACAP,IAAAA,EAASQ,EAAAA,QAATH,OAA0BI,WAAa,IAC/BC,EAAOC,KAAAA,IAAFP,EAAmBK,EAAAA,SAAcL,EAC5CZ,EAAUoB,SAASR,UAAWS,MAApBH,EACVlB,EAASC,SAASG,QAAAA,MAAlB,GAAAkB,KA2BJrC,YAAYO,UAAU+B,QAAU,WAG9B,IAAMC,EAAQhB,SAASiB,cAAc,QAC/BC,EAANlB,SAAAiB,cAAA,QACME,EAAAA,IACAC,EAAMpB,SAANoB,EAAMpB,SAASC,eAAe,SAG9BlB,EAASR,KAAKQ,OACdsC,EAAAA,KAActC,OAAdsC,EAAc9C,KAAK8C,YAEnB3C,EAAUH,KAAKG,QAGjB4C,GAAI,UAAgBC,UAAWC,UAAnC,UAAA,UAAA,UAAA,OAAA,WAEAC,EAAMC,EADFC,KAAAA,MAAUH,KAAAD,SAAdC,EAAAI,SAEAH,EAAMC,aAAa,QAAK/C,eACxBqC,EAAMU,aAAa,IAAA/C,EAASC,OAC5BoC,EAAMU,aAAa,QAAK3C,eACxBqC,EAAIM,aAAa,IAAjB3C,EAA0BH,OAA1BwC,EAAIM,aAAa,QAAS,eAIxBG,OACAC,QACE,eACEnC,IAGAA,MAAOhB,EAAOE,QAPdc,MAAAhB,EAAAE,SAeJkD,MAfIpD,EAAAG,MAkBFkD,OAAAA,EACArC,SAAOuB,EAHAa,MAhBL,EAqBJE,SACEvD,MAAAA,KACA2C,SAAAA,IACD1B,MAAA,GAHDsC,SAAU,WAMZC,GAAMxD,EAAAO,OACJ4C,OADIK,OACJL,QAAS,OAMXK,gBAAMP,EACJE,MAAAA,EACAM,SAAQhB,MAGRY,OACAK,QAAS,eACPzC,OAAAA,EACAqC,MAAAA,EAFOA,SANLd,EAUJY,MACE,EACEnC,SAFDA,MAID,EACEA,SAAOZ,KAGPY,IAGJsC,MAAUlD,EAAAH,QArBZe,MAAAZ,EAAAF,SA2BFJ,MAAYO,EAAUqC,MAAtBY,SAAA,WALMb,EAAIM,aAAa,QAAS,mBAKhCjD,YAAYO,UAAUqC,YAAc,WACrBrB,SAASiB,cAAc,SAC/BoB,MAAMC,QAAU,QAIvB,IAAIC,EAAI,IAAI9D,YAAY,MACpB2C,IAAMpB,SAASC,eAAe,SAClCmB,IAAIZ,iBAAiB,QAAS+B,EAAExB,QAAQyB,KAAKD","file":"main.js","sourcesContent":["\"use strict\";\nfunction BlotterAnimations() {\n  this.message = 'Why, Hello!';\n  this.init();\n}\n\nBlotterAnimations.prototype.init = function() {\n  this.message = this.message === 'Why, Hello!' ? 'Okay, Goodbye' : 'Why, Hello!';\n  this.text = new Blotter.Text(this.message, {\n    family : \"'Open Sans', sans-serif\",\n    size : 220,\n    fill : \"#171717\",\n    paddingLeft : 40,\n    paddingRight : 40\n  });\n  this.initMaterials();\n}\n\nBlotterAnimations.prototype.initMaterials = function() {\n  var material = new Blotter.ChannelSplitMaterial();\n\n  material.uniforms.uOffset.value = 0.08;\n  material.uniforms.uRotation.value = 40;\n  material.uniforms.uAnimateNoise.value = 1.30;\n\n  var text = this.text;\n\n  var blotter = new Blotter(material, {\n    texts : text\n  });\n\n  var elem = document.getElementById(\"menu\");\n  var scope = blotter.forText(text);\n  elem.innerHTML = '';\n  scope.appendTo(elem);\n\n  const center = window.innerHeight/2;\n  document.addEventListener('mousemove', function(e) {\n    const x = (e.clientX / window.innerWidth) * 180;\n    const y = Math.abs(center - e.clientY) / center;\n    material.uniforms.uRotation.value = x;\n    material.uniforms.uOffset.value = y * .2;\n  })\n}\n\nfunction Transitions(blotter) {\n  this.blotter = null;\n\n  if (blotter) {\n    this.blotter = blotter;\n  }\n\n\n  this.morph1 = {\n    start: \"M0,0 C46,0 112,0 195,0 C327,0 401,0 505,0 C605,0 638,0 728,0 C818,0 844,0 900.3125,0 C960,0 1001,0 1077,0 C1138,0 1178,0 1200,0 L1200,0 L0,0 L0,0 Z\",\n    middle: 'M0,16 C47,445 112,659 195,659 C327,659 238,135 505,135 C698,135 596,515 728,515 C859,515 780,221 900,221 C1011,221 925,801 1077,801 C1182,801 1223,541 1200,21 L1200,0 L0,0 L0,16 Z',\n    end: 'M0,920 C47,920 112,920 195,920 C327,920 401,920 505,920 C605,920 638,920 728,920 C818,920 844,920 900,920 C960,920 1001,920 1077,920 C1138,920 1178,920 1200,920 L1200,0 L0,0 L0,920 Z'\n  }\n\n  this.morph2 = {\n    start: 'M0,0 C42,0 96,0 163,0 C255,0 290,0 379,0 C464,0 542,0 655,0 C761,0 800,0 869,0 C935,0 955,0 1040,0 C1096,0 1149,0 1200,0 L1200,920 L0,920 L0,0 Z',\n    middle: 'M0,895 C13,716 67,627 163,627 C295,627 254,794 379,794 C534,794 478,340 655,340 C839,340 775,647 869,647 C951,647 927,497 1040,497 C1120,497 1173,629 1200,895 L1200,920 L0,920 L0,895 Z',\n    end: 'M0,920 C42,920 96,920 163,920 C255,920 290,920 379,920 C464,920 542,920 655,920 C761,920 800,920 869,920 C935,920 955,920 1040,920 C1096,920 1149,920 1200,920 L1200,920 L0,920 L0,920 Z'\n  }\n\n}\n\nTransitions.prototype.animate = function() {\n\n  const part1 = document.querySelector('.st0');\n  const part2 = document.querySelector('.st1');\n  const dur = 1000;\n  const easeFunc = 'linear';\n  const btn = document.getElementById('start');\n\n  const morph1 = this.morph1;\n  const morph2 = this.morph2;\n  const displayMenu = this.displayMenu;\n\n  const blotter = this.blotter;\n\n  const bgColors = ['#390694', '#71005e', '#072b3c', '#196700', '#670a00', '#020067', '#000', '#da4800']\n  let i = Math.floor(Math.random() * bgColors.length);\n  let bgColor = bgColors[i];\n  part1.setAttribute('style', 'opacity: 1;');\n  part1.setAttribute('d', morph1.start);\n  part2.setAttribute('style', 'opacity: 0;');\n  part2.setAttribute('d', morph2.start);\n  btn.setAttribute('style', 'z-index: 0;');\n\n  // animate part 1\n  anime({\n    targets: '#morph1 .st0',\n    d: [\n      {\n        value: morph1.start\n      },\n      {\n        value: morph1.middle\n      },\n      {\n        value: morph1.end\n      }\n    ],\n    easing: easeFunc,\n    duration: dur,\n    loop: false,\n    opacity: {\n      delay: dur + 100,\n      duration: 100,\n      value: 0.0,\n    },\n    complete: function() {\n      blotter && blotter.init();\n      displayMenu();\n    },\n  });\n\n  anime({\n    targets: 'body',\n    backgroundColor: bgColor,\n    delay: dur,\n    duration: 100,\n  })\n\n  anime({\n    targets: '#morph2 .st1',\n    easing: easeFunc,\n    delay: dur,\n    duration: dur,\n    loop: false,\n    opacity: {\n      value: 1,\n      duration: 100,\n    },\n    d: [\n      {\n        value: morph2.start\n      },\n      {\n        value: morph2.middle\n      },\n      {\n        value: morph2.end\n      }\n    ],\n    complete: function() {\n      btn.setAttribute('style', 'z-index: 3;');\n    }\n  });\n}\n\nTransitions.prototype.displayMenu = function() {\n  const menu = document.querySelector('.menu');\n  menu.style.display = 'flex';\n}\n\n// var b = new BlotterAnimations();\nvar t = new Transitions(null);\nvar btn = document.getElementById('start');\nbtn.addEventListener('click', t.animate.bind(t));"]}